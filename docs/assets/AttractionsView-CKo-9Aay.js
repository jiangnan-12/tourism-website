import{_ as T,r as u,c as $,a as l,b as t,d as L,w as c,v as N,e as _,F as C,f as w,u as A,g as M,t as n,h as J,i as b,o as i}from"./index-BEtzBXip.js";const O={class:"attractions-container"},Q={class:"filter-section"},E={class:"filter-container"},P=["value"],j=["value"],z={class:"results-stats"},G={class:"attractions-grid"},H=["src","alt"],K={class:"attraction-info"},W={class:"attraction-header"},X={class:"attraction-name"},Y={class:"attraction-meta"},Z={class:"rating"},tt={class:"location"},et={class:"category"},ot={class:"attraction-description"},st={class:"attraction-footer"},at={class:"attraction-price"},nt={key:0},lt={key:1},it=["onClick"],rt={key:0,class:"no-results"},ut={class:"modal-content"},ct={class:"modal-header"},dt={class:"modal-body"},pt={class:"ticket-info"},vt=["src","alt"],mt={class:"ticket-details"},gt={class:"ticket-quantity"},yt={class:"quantity-control"},_t={class:"total-amount"},bt={__name:"AttractionsView",setup(ft){const f=[{id:1,name:"故宫博物院",image:"https://picsum.photos/400/300?random=4",description:"故宫博物院是中国明清两代的皇家宫殿，旧称为紫禁城，位于北京中轴线的中心。",price:60,location:"北京",rating:4.8,category:"历史文化"},{id:2,name:"长城",image:"https://picsum.photos/400/300?random=5",description:"长城是中国古代的军事防御工程，是世界文化遗产之一。",price:40,location:"北京",rating:4.9,category:"自然风光"},{id:3,name:"西湖",image:"https://picsum.photos/400/300?random=6",description:"西湖是中国大陆首批国家重点风景名胜区和中国十大风景名胜之一。",price:0,location:"杭州",rating:4.7,category:"自然风光"},{id:4,name:"黄山",image:"https://picsum.photos/400/300?random=7",description:"黄山位于安徽省南部黄山市境内，是中国十大名山之一，有“天下第一奇山”之美称。",price:190,location:"安徽",rating:4.9,category:"自然风光"},{id:5,name:"兵马俑",image:"https://picsum.photos/400/300?random=18",description:"秦始皇兵马俑被誉为世界第八大奇迹，是中国古代辉煌文明的一张金字名片。",price:120,location:"西安",rating:4.8,category:"历史文化"},{id:6,name:"张家界国家森林公园",image:"https://picsum.photos/400/300?random=19",description:"张家界国家森林公园以峰称奇、以谷显幽、以林见秀，是世界自然遗产。",price:228,location:"张家界",rating:4.7,category:"自然风光"},{id:7,name:"丽江古城",image:"https://picsum.photos/400/300?random=20",description:"丽江古城是中国历史文化名城之一，具有800多年历史，世界文化遗产。",price:80,location:"丽江",rating:4.6,category:"历史文化"},{id:8,name:"九寨沟",image:"https://picsum.photos/400/300?random=21",description:"九寨沟以翠海、叠瀑、彩林、雪峰、藏情、蓝冰“六绝”著称于世，世界自然遗产。",price:190,location:"阿坝",rating:4.9,category:"自然风光"}],d=u(""),p=u(""),v=u(""),m=u(""),g=u(""),U=Array.from(new Set(f.map(s=>s.location))),q=Array.from(new Set(f.map(s=>s.category))),h=$(()=>f.filter(s=>{const e=s.name.toLowerCase().includes(d.value.toLowerCase())||s.description.toLowerCase().includes(d.value.toLowerCase()),o=!p.value||s.location===p.value,V=!v.value||s.category===v.value;let S=!0;if(m.value){const[R,x]=m.value.split("-").map(Number);S=s.price>=R&&(x===0||s.price<=x)}const I=!g.value||s.rating>=parseFloat(g.value);return e&&o&&V&&S&&I})),a=u(null),r=u(1),k=u(!1),B=s=>{a.value=s,r.value=1,k.value=!0},y=()=>{k.value=!1,a.value=null},D=()=>{d.value="",p.value="",v.value="",m.value="",g.value=""},F=()=>{if(!a.value)return;const s={id:Date.now(),attractionId:a.value.id,attractionName:a.value.name,price:a.value.price,quantity:r.value,totalAmount:a.value.price*r.value,date:new Date().toLocaleDateString(),status:"已支付"},e=JSON.parse(localStorage.getItem("orders"))||[];e.push(s),localStorage.setItem("orders",JSON.stringify(e)),y(),alert("购票成功！订单已保存到个人中心。")};return(s,e)=>(i(),l("div",O,[e[18]||(e[18]=t("h1",{class:"page-title"},"旅游景点",-1)),e[19]||(e[19]=t("p",{class:"page-subtitle"},"发现中国最美的旅游景点",-1)),t("div",Q,[t("div",E,[c(t("input",{type:"text",placeholder:"搜索景点名称或描述",class:"search-input","onUpdate:modelValue":e[0]||(e[0]=o=>d.value=o)},null,512),[[N,d.value]]),c(t("select",{class:"filter-select","onUpdate:modelValue":e[1]||(e[1]=o=>p.value=o)},[e[8]||(e[8]=t("option",{value:""},"选择目的地",-1)),(i(!0),l(C,null,w(A(U),o=>(i(),l("option",{key:o,value:o},n(o),9,P))),128))],512),[[_,p.value]]),c(t("select",{class:"filter-select","onUpdate:modelValue":e[2]||(e[2]=o=>v.value=o)},[e[9]||(e[9]=t("option",{value:""},"选择分类",-1)),(i(!0),l(C,null,w(A(q),o=>(i(),l("option",{key:o,value:o},n(o),9,j))),128))],512),[[_,v.value]]),c(t("select",{class:"filter-select","onUpdate:modelValue":e[3]||(e[3]=o=>m.value=o)},[...e[10]||(e[10]=[M('<option value="" data-v-b5916342>选择价格区间</option><option value="0-50" data-v-b5916342>0-50元</option><option value="50-100" data-v-b5916342>50-100元</option><option value="100-200" data-v-b5916342>100-200元</option><option value="200-0" data-v-b5916342>200元以上</option>',5)])],512),[[_,m.value]]),c(t("select",{class:"filter-select","onUpdate:modelValue":e[4]||(e[4]=o=>g.value=o)},[...e[11]||(e[11]=[M('<option value="" data-v-b5916342>最低评分</option><option value="4.5" data-v-b5916342>4.5分以上</option><option value="4.7" data-v-b5916342>4.7分以上</option><option value="4.8" data-v-b5916342>4.8分以上</option><option value="4.9" data-v-b5916342>4.9分以上</option>',5)])],512),[[_,g.value]]),t("button",{class:"reset-btn",onClick:D}," 重置筛选 ")])]),t("div",z,[t("span",null,"找到 "+n(h.value.length)+" 个景点",1)]),t("div",G,[(i(!0),l(C,null,w(h.value,o=>(i(),l("div",{key:o.id,class:"attraction-card"},[t("img",{src:o.image,alt:o.name,class:"attraction-image"},null,8,H),t("div",K,[t("div",W,[t("h2",X,n(o.name),1),t("div",Y,[t("span",Z,"⭐"+n(o.rating),1),t("span",tt,n(o.location),1),t("span",et,n(o.category),1)])]),t("p",ot,n(o.description),1),t("div",st,[t("div",at,[o.price===0?(i(),l("span",nt,"免费")):(i(),l("span",lt,"¥"+n(o.price),1))]),t("button",{class:"buy-btn",onClick:V=>B(o)}," 立即购票 ",8,it)])])]))),128))]),h.value.length===0?(i(),l("div",rt,[...e[12]||(e[12]=[t("p",null,"没有找到符合条件的景点，请尝试调整筛选条件",-1)])])):L("",!0),k.value&&a.value?(i(),l("div",{key:1,class:"modal-overlay",onClick:J(y,["self"])},[t("div",ut,[t("div",ct,[t("h3",null,"购买 "+n(a.value.name)+" 门票",1),t("button",{class:"close-btn",onClick:y},"×")]),t("div",dt,[t("div",pt,[t("img",{src:a.value.image,alt:a.value.name,class:"ticket-image"},null,8,vt),t("div",mt,[t("p",null,[e[13]||(e[13]=t("strong",null,"景点:",-1)),b(" "+n(a.value.name),1)]),t("p",null,[e[14]||(e[14]=t("strong",null,"价格:",-1)),b(" ¥"+n(a.value.price)+"/张",1)]),t("p",null,[e[15]||(e[15]=t("strong",null,"地点:",-1)),b(" "+n(a.value.location),1)])])]),t("div",gt,[e[16]||(e[16]=t("label",{for:"quantity"},"数量:",-1)),t("div",yt,[t("button",{onClick:e[5]||(e[5]=o=>r.value=Math.max(1,r.value-1))},"-"),c(t("input",{type:"number",id:"quantity","onUpdate:modelValue":e[6]||(e[6]=o=>r.value=o),min:"1"},null,512),[[N,r.value,void 0,{number:!0}]]),t("button",{onClick:e[7]||(e[7]=o=>r.value++)},"+")])]),t("div",_t,[e[17]||(e[17]=t("strong",null,"总计:",-1)),b(" ¥"+n(a.value.price*r.value),1)])]),t("div",{class:"modal-footer"},[t("button",{class:"cancel-btn",onClick:y},"取消"),t("button",{class:"confirm-btn",onClick:F},"确认购票")])])])):L("",!0)]))}},kt=T(bt,[["__scopeId","data-v-b5916342"]]);export{kt as default};
