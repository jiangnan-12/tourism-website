import{_ as V,r as v,n as w,b as d,d as s,e as g,p as b,g as n,v as i,t as y,q as x,f as m}from"./index-D7HXuyxa.js";const q={class:"auth-container"},I={class:"auth-card"},N={class:"auth-tabs"},_={key:0,class:"auth-form"},C={class:"form-group"},O={class:"form-group"},J={key:0,class:"error-message"},h={key:1,class:"auth-form"},D={class:"form-group"},E={class:"form-group"},P={class:"form-group"},A={class:"form-group"},B={key:0,class:"error-message"},T={__name:"AuthView",setup(F){const S=x(),u=v("login"),t=w({username:"",password:"",role:"user"}),r=w({username:"",password:"",confirmPassword:"",email:"",role:"user"}),p=v(""),l=v(""),c=a=>{u.value=a,p.value="",l.value=""},k=a=>(JSON.parse(localStorage.getItem("users"))||[]).some(o=>o.username===a),U=()=>{if(r.password!==r.confirmPassword){l.value="两次输入的密码不一致";return}if(r.password.length<6){l.value="密码长度不能少于6位";return}if(k(r.username)){l.value="用户名已存在";return}const a={id:Date.now(),username:r.username,password:r.password,email:r.email,role:r.role,createdAt:new Date().toISOString()},e=JSON.parse(localStorage.getItem("users"))||[];e.push(a),localStorage.setItem("users",JSON.stringify(e)),t.username=r.username,t.password=r.password,t.role=r.role,f()},f=()=>{const e=(JSON.parse(localStorage.getItem("users"))||[]).find(o=>o.username===t.username&&o.password===t.password);e?(localStorage.setItem("currentUser",JSON.stringify({id:e.id,username:e.username,role:e.role,email:e.email})),S.push("/")):p.value="用户名或密码错误"};return(a,e)=>(m(),d("div",q,[e[15]||(e[15]=s("div",{class:"auth-background"},[s("span"),s("span"),s("span")],-1)),s("div",I,[s("div",N,[s("button",{class:b(["tab-btn",{active:u.value==="login"}]),onClick:e[0]||(e[0]=o=>c("login"))},[...e[8]||(e[8]=[s("span",null,"登录",-1)])],2),s("button",{class:b(["tab-btn",{active:u.value==="register"}]),onClick:e[1]||(e[1]=o=>c("register"))},[...e[9]||(e[9]=[s("span",null,"注册",-1)])],2)]),u.value==="login"?(m(),d("div",_,[e[10]||(e[10]=s("h2",{class:"form-title"},"欢迎登录",-1)),e[11]||(e[11]=s("p",{class:"form-subtitle"},"即刻出发·旅游网，探索世界的每一个角落",-1)),s("div",C,[n(s("input",{type:"text",id:"login-username","onUpdate:modelValue":e[2]||(e[2]=o=>t.username=o),placeholder:"请输入用户名",required:""},null,512),[[i,t.username]])]),s("div",O,[n(s("input",{type:"password",id:"login-password","onUpdate:modelValue":e[3]||(e[3]=o=>t.password=o),placeholder:"请输入密码",required:""},null,512),[[i,t.password]])]),e[12]||(e[12]=s("div",{class:"form-group remember-me"},[s("input",{type:"checkbox",id:"remember-me"}),s("label",{for:"remember-me"},"记住密码")],-1)),p.value?(m(),d("p",J,y(p.value),1)):g("",!0),s("button",{class:"submit-btn",onClick:f},"登录")])):g("",!0),u.value==="register"?(m(),d("div",h,[e[13]||(e[13]=s("h2",{class:"form-title"},"注册账号",-1)),e[14]||(e[14]=s("p",{class:"form-subtitle"},"立即注册，开启您的精彩旅程",-1)),s("div",D,[n(s("input",{type:"text",id:"register-username","onUpdate:modelValue":e[4]||(e[4]=o=>r.username=o),placeholder:"请输入用户名",required:""},null,512),[[i,r.username]])]),s("div",E,[n(s("input",{type:"email",id:"register-email","onUpdate:modelValue":e[5]||(e[5]=o=>r.email=o),placeholder:"请输入邮箱",required:""},null,512),[[i,r.email]])]),s("div",P,[n(s("input",{type:"password",id:"register-password","onUpdate:modelValue":e[6]||(e[6]=o=>r.password=o),placeholder:"请输入密码（不少于6位）",required:""},null,512),[[i,r.password]])]),s("div",A,[n(s("input",{type:"password",id:"register-confirm-password","onUpdate:modelValue":e[7]||(e[7]=o=>r.confirmPassword=o),placeholder:"请再次输入密码",required:""},null,512),[[i,r.confirmPassword]])]),l.value?(m(),d("p",B,y(l.value),1)):g("",!0),s("button",{class:"submit-btn",onClick:U},"注册")])):g("",!0)])]))}},z=V(T,[["__scopeId","data-v-fa869ad8"]]);export{z as default};
