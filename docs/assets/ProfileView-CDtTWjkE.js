import{_ as h,r as u,o as g,b as a,e as c,d as s,t as o,p as r,F as f,i as k,q as y,f as l,l as E}from"./index-lXjFaGpG.js";const I="/assets/%E4%B8%BD%E6%B1%9F%E5%8F%A4%E5%9F%8E%E5%AE%A2%E6%A0%88-Ju_RRYJl.jpg",b="/assets/%E6%95%85%E5%AE%AB%E5%8D%9A%E7%89%A9%E9%99%A2-CC_8HkXR.jpg",A="/assets/%E5%8C%97%E4%BA%AC%E7%BB%8F%E5%85%B83%E6%97%A5%E6%B8%B8-B-kDAAkH.jpg",B={key:0,class:"profile-container"},N={class:"user-info-section"},D={class:"user-info-card"},x={class:"user-details"},C={class:"info-item"},F={class:"info-value"},S={class:"info-item"},O={class:"info-value"},V={class:"info-item"},w={class:"orders-section"},J={key:0,class:"no-orders"},R={key:1,class:"orders-list"},U={class:"order-header"},j={class:"order-id"},q={class:"order-date"},H={class:"order-content"},P={class:"order-image"},z=["src","alt"],L={key:1,src:I,alt:"é»˜è®¤é…’åº—å›¾ç‰‡"},M={key:2,src:b,alt:"é»˜è®¤æ™¯ç‚¹å›¾ç‰‡"},T={key:3,src:A,alt:"é»˜è®¤è·¯çº¿å›¾ç‰‡"},X={key:4,class:"no-image"},Y={class:"order-info"},G={class:"order-attraction"},K={class:"order-type"},Q={key:0,class:"type-label"},W={key:1,class:"type-label"},Z={key:2,class:"type-label"},$={class:"attraction-name"},ss={class:"order-details"},ts={class:"detail-item"},es={class:"detail-value"},as={class:"detail-item"},ls={class:"detail-value"},os={key:0},is={key:1},ns={key:0,class:"hotel-extras"},ds={class:"detail-item"},cs={class:"detail-value"},_s={class:"detail-item"},us={class:"detail-value"},rs={class:"detail-item"},ps={class:"detail-value"},vs={key:1,class:"route-extras"},ms={class:"detail-item"},hs={class:"detail-value"},gs={class:"detail-item total"},fs={class:"detail-value"},ks={__name:"ProfileView",setup(ys){const _=y(),i=u(null),n=u([]),p=()=>{const d=JSON.parse(localStorage.getItem("currentUser"));d?i.value=d:_.push("/auth")},v=()=>{n.value=JSON.parse(localStorage.getItem("orders"))||[],n.value.sort((d,t)=>new Date(t.date)-new Date(d.date)),console.log("Orders:",n.value)},m=()=>{localStorage.removeItem("currentUser"),_.push("/")};return g(()=>{p(),v()}),(d,t)=>i.value?(l(),a("div",B,[s("div",{class:"profile-header"},[t[0]||(t[0]=s("h1",{class:"page-title"},"ä¸ªäººä¸­å¿ƒ",-1)),s("button",{class:"logout-btn",onClick:m},"é€€å‡ºç™»å½•")]),s("section",N,[t[5]||(t[5]=s("h2",{class:"section-title"},"åŸºæœ¬ä¿¡æ¯",-1)),s("div",D,[t[4]||(t[4]=s("div",{class:"user-avatar"},"ğŸ‘¤",-1)),s("div",x,[s("div",C,[t[1]||(t[1]=s("span",{class:"info-label"},"ç”¨æˆ·å:",-1)),s("span",F,o(i.value.username),1)]),s("div",S,[t[2]||(t[2]=s("span",{class:"info-label"},"é‚®ç®±:",-1)),s("span",O,o(i.value.email),1)]),s("div",V,[t[3]||(t[3]=s("span",{class:"info-label"},"è§’è‰²:",-1)),s("span",{class:r(["info-value role-tag",i.value.role])},o(i.value.role==="admin"?"ç®¡ç†å‘˜":"æ¸¸å®¢"),3)])])])]),s("section",w,[t[15]||(t[15]=s("h2",{class:"section-title"},"æˆ‘çš„è®¢å•",-1)),n.value.length===0?(l(),a("div",J,[...t[6]||(t[6]=[s("p",null,"æ‚¨è¿˜æ²¡æœ‰è®¢å•è®°å½•",-1)])])):(l(),a("div",R,[(l(!0),a(f,null,k(n.value,e=>(l(),a("div",{key:e.id,class:"order-card"},[s("div",U,[s("div",j,"è®¢å•å·: "+o(e.id),1),s("div",q,"æ—¥æœŸ: "+o(e.date),1)]),s("div",H,[s("div",P,[e.image?(l(),a("img",{key:0,src:e.image,alt:e.attractionName||e.routeName||e.hotelName||"è®¢å•å›¾ç‰‡"},null,8,z)):e.hotelId?(l(),a("img",L)):e.attractionId?(l(),a("img",M)):e.routeId?(l(),a("img",T)):(l(),a("div",X,[...t[7]||(t[7]=[s("span",{class:"no-image-text"},"è®¢å•å›¾ç‰‡",-1)])]))]),s("div",Y,[s("div",G,[s("div",K,[e.attractionId?(l(),a("span",Q,"æ™¯ç‚¹é—¨ç¥¨")):e.routeId?(l(),a("span",W,"æ—…æ¸¸è·¯çº¿")):e.hotelId?(l(),a("span",Z,"é…’åº—é¢„è®¢")):c("",!0)]),s("span",$,o(e.attractionName||e.routeName||e.hotelName||"æœªçŸ¥è®¢å•"),1),s("span",{class:r(["order-status",e.status])},o(e.status),3)]),s("div",ss,[s("div",ts,[t[8]||(t[8]=s("span",{class:"detail-label"},"å•ä»·:",-1)),s("span",es,"Â¥"+o(e.price),1)]),s("div",as,[t[9]||(t[9]=s("span",{class:"detail-label"},"æ•°é‡:",-1)),s("span",ls,[E(o(e.quantity||e.participants||e.guests||0)+" ",1),e.attractionId?(l(),a("span",os,"å¼ ")):e.routeId||e.hotelId?(l(),a("span",is,"äºº")):c("",!0)])]),e.hotelId?(l(),a("div",ns,[s("div",ds,[t[10]||(t[10]=s("span",{class:"detail-label"},"å…¥ä½æ—¥æœŸ:",-1)),s("span",cs,o(e.checkInDate||"æœªæŒ‡å®š"),1)]),s("div",_s,[t[11]||(t[11]=s("span",{class:"detail-label"},"é€€æˆ¿æ—¥æœŸ:",-1)),s("span",us,o(e.checkOutDate||"æœªæŒ‡å®š"),1)]),s("div",rs,[t[12]||(t[12]=s("span",{class:"detail-label"},"å…¥ä½å¤©æ•°:",-1)),s("span",ps,o(e.days||0)+"æ™š",1)])])):c("",!0),e.routeId?(l(),a("div",vs,[s("div",ms,[t[13]||(t[13]=s("span",{class:"detail-label"},"è·¯çº¿å¤©æ•°:",-1)),s("span",hs,o(e.days||0)+"å¤©",1)])])):c("",!0),s("div",gs,[t[14]||(t[14]=s("span",{class:"detail-label"},"æ€»è®¡:",-1)),s("span",fs,"Â¥"+o(e.totalAmount),1)])])])])]))),128))]))])])):c("",!0)}},Is=h(ks,[["__scopeId","data-v-d724b090"]]);export{Is as default};
