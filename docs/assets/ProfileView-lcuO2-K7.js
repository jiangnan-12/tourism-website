import{_ as f,r as c,l as m,a as i,d as h,b as s,t as e,n as u,F as g,f as b,k,o as n}from"./index-BEtzBXip.js";const y={key:0,class:"profile-container"},I={class:"user-info-section"},S={class:"user-info-card"},N={class:"user-details"},w={class:"info-item"},U={class:"info-value"},V={class:"info-item"},x={class:"info-value"},B={class:"info-item"},C={class:"orders-section"},D={key:0,class:"no-orders"},O={key:1,class:"orders-list"},F={class:"order-header"},J={class:"order-id"},P={class:"order-date"},q={class:"order-content"},z={class:"order-attraction"},A={class:"attraction-name"},E={class:"order-details"},L={class:"detail-item"},M={class:"detail-value"},R={class:"detail-item"},j={class:"detail-value"},G={class:"detail-item total"},H={class:"detail-value"},K={__name:"ProfileView",setup(Q){const r=k(),o=c(null),d=c([]),_=()=>{const l=JSON.parse(localStorage.getItem("currentUser"));l?o.value=l:r.push("/auth")},v=()=>{d.value=JSON.parse(localStorage.getItem("orders"))||[],d.value.sort((l,t)=>new Date(t.date)-new Date(l.date))},p=()=>{localStorage.removeItem("currentUser"),r.push("/")};return m(()=>{_(),v()}),(l,t)=>o.value?(n(),i("div",y,[s("div",{class:"profile-header"},[t[0]||(t[0]=s("h1",{class:"page-title"},"ä¸ªäººä¸­å¿ƒ",-1)),s("button",{class:"logout-btn",onClick:p},"é€€å‡ºç™»å½•")]),s("section",I,[t[5]||(t[5]=s("h2",{class:"section-title"},"åŸºæœ¬ä¿¡æ¯",-1)),s("div",S,[t[4]||(t[4]=s("div",{class:"user-avatar"},"ğŸ‘¤",-1)),s("div",N,[s("div",w,[t[1]||(t[1]=s("span",{class:"info-label"},"ç”¨æˆ·å:",-1)),s("span",U,e(o.value.username),1)]),s("div",V,[t[2]||(t[2]=s("span",{class:"info-label"},"é‚®ç®±:",-1)),s("span",x,e(o.value.email),1)]),s("div",B,[t[3]||(t[3]=s("span",{class:"info-label"},"è§’è‰²:",-1)),s("span",{class:u(["info-value role-tag",o.value.role])},e(o.value.role==="admin"?"ç®¡ç†å‘˜":"æ¸¸å®¢"),3)])])])]),s("section",C,[t[10]||(t[10]=s("h2",{class:"section-title"},"è´­ç¥¨è®¢å•",-1)),d.value.length===0?(n(),i("div",D,[...t[6]||(t[6]=[s("p",null,"æ‚¨è¿˜æ²¡æœ‰è´­ç¥¨è®°å½•",-1)])])):(n(),i("div",O,[(n(!0),i(g,null,b(d.value,a=>(n(),i("div",{key:a.id,class:"order-card"},[s("div",F,[s("div",J,"è®¢å•å·: "+e(a.id),1),s("div",P,"æ—¥æœŸ: "+e(a.date),1)]),s("div",q,[s("div",z,[s("span",A,e(a.attractionName),1),s("span",{class:u(["order-status",a.status])},e(a.status),3)]),s("div",E,[s("div",L,[t[7]||(t[7]=s("span",{class:"detail-label"},"å•ä»·:",-1)),s("span",M,"Â¥"+e(a.price),1)]),s("div",R,[t[8]||(t[8]=s("span",{class:"detail-label"},"æ•°é‡:",-1)),s("span",j,e(a.quantity)+"å¼ ",1)]),s("div",G,[t[9]||(t[9]=s("span",{class:"detail-label"},"æ€»è®¡:",-1)),s("span",H,"Â¥"+e(a.totalAmount),1)])])])]))),128))]))])])):h("",!0)}},W=f(K,[["__scopeId","data-v-ba7f78c8"]]);export{W as default};
