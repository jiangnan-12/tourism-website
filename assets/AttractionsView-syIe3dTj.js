import{_ as F,c as I,r as c,w as Q,o as Z,a as G,b as i,F as S,d as e,e as h,f as s,g as _,v as N,h as C,i as x,u as $,j as B,t as r,k as D,l as U,m as H}from"./index-Coxv9P23.js";const K={class:"panorama-container"},W=["src"],X={key:0,class:"panorama-controls"},Y={__name:"PanoramaViewer",props:{imageUrl:{type:String,default:"https://picsum.photos/id/1036/1600/800"},showControls:{type:Boolean,default:!0},hotSpots:{type:Array,default:()=>[]}},setup(k){const u=k,g=I(()=>u.imageUrl&&u.imageUrl.includes("720yun.com")),d=c(null);let n=null;const m=()=>{d.value&&(n&&n.destroy(),window.pannellum?n=window.pannellum.viewer(d.value,{type:"equirectangular",panorama:u.imageUrl,autoLoad:!0,showControls:!0,mouseZoom:!0,compass:!0,hotSpots:u.hotSpots}):console.error("Pannellum library not loaded"))},f=()=>{n&&n.toggleFullscreen()},V=()=>{n&&n.lookAt(0,0)};return Q(()=>u.imageUrl,()=>{m()}),Z(()=>{const y=document.createElement("script");y.src="https://cdn.pannellum.org/2.5/pannellum.js",y.onload=()=>{const v=document.createElement("link");v.rel="stylesheet",v.href="https://cdn.pannellum.org/2.5/pannellum.css",document.head.appendChild(v),setTimeout(m,100)},document.head.appendChild(y)}),G(()=>{n&&(n.destroy(),n=null)}),(y,v)=>(s(),i("div",K,[g.value?(s(),i("iframe",{key:0,src:k.imageUrl,class:"panorama-iframe",frameborder:"0",allowfullscreen:""},null,8,W)):(s(),i(S,{key:1},[e("div",{ref_key:"panoramaRef",ref:d,class:"panorama"},null,512),k.showControls?(s(),i("div",X,[e("button",{onClick:f,class:"control-btn"}," å…¨å± "),e("button",{onClick:V,class:"control-btn"}," é‡ç½® ")])):h("",!0)],64))]))}},ee=F(Y,[["__scopeId","data-v-e0ad35e7"]]),te={class:"attractions-container"},ae={class:"filter-section"},oe={class:"filter-container"},se=["value"],ne=["value"],le={class:"results-stats"},ie={class:"attractions-grid"},re=["src","alt"],ce={class:"attraction-info"},ue={class:"attraction-header"},de={class:"attraction-name"},pe={class:"attraction-meta"},me={class:"rating"},ve={class:"location"},ge={class:"category"},fe={class:"attraction-description"},ye={class:"attraction-footer"},_e={class:"attraction-price"},we={key:0},he={key:1},ke={class:"attraction-actions"},be=["onClick"],Ce=["onClick"],Ue={key:0,class:"no-results"},Se={class:"modal-content"},Ve={class:"modal-header"},je={class:"modal-body"},Me={class:"ticket-info"},Ae=["src","alt"],xe={class:"ticket-details"},Le={class:"ticket-quantity"},Pe={class:"quantity-control"},qe={class:"total-amount"},Ne={class:"modal-header"},$e={class:"modal-body panorama-body"},Be={__name:"AttractionsView",setup(k){const u=[{id:1,name:"æ•…å®«åšç‰©é™¢",image:"/ç½‘ç«™å›¾ç‰‡/æ•…å®«åšç‰©é™¢.jpg",panoramaUrl:"https://www.720yun.com/t/1c4jrzhwky1?scene_id=27278815",description:"æ•…å®«åšç‰©é™¢æ˜¯ä¸­å›½æ˜æ¸…ä¸¤ä»£çš„çš‡å®¶å®«æ®¿ï¼Œæ—§ç§°ä¸ºç´«ç¦åŸï¼Œä½äºåŒ—äº¬ä¸­è½´çº¿çš„ä¸­å¿ƒã€‚",price:60,location:"åŒ—äº¬",rating:4.8,category:"å†å²æ–‡åŒ–"},{id:2,name:"é•¿åŸ",image:"/ç½‘ç«™å›¾ç‰‡/é•¿åŸ.jpg",panoramaUrl:"https://www.720yun.com/t/d3vkshphzi7?scene_id=49698187",description:"é•¿åŸæ˜¯ä¸­å›½å¤ä»£çš„å†›äº‹é˜²å¾¡å·¥ç¨‹ï¼Œæ˜¯ä¸–ç•Œæ–‡åŒ–é—äº§ä¹‹ä¸€ã€‚",price:40,location:"åŒ—äº¬",rating:4.9,category:"è‡ªç„¶é£å…‰"},{id:3,name:"è¥¿æ¹–",image:"/ç½‘ç«™å›¾ç‰‡/è¥¿æ¹–.jpg",panoramaUrl:"https://www.720yun.com/t/d5ajOguf5v7?scene_id=3219488",description:"è¥¿æ¹–æ˜¯ä¸­å›½å¤§é™†é¦–æ‰¹å›½å®¶é‡ç‚¹é£æ™¯åèƒœåŒºå’Œä¸­å›½åå¤§é£æ™¯åèƒœä¹‹ä¸€ã€‚",price:0,location:"æ­å·",rating:4.7,category:"è‡ªç„¶é£å…‰"},{id:4,name:"é»„å±±",image:"/ç½‘ç«™å›¾ç‰‡/é»„å±±.jpg",panoramaUrl:"https://www.720yun.com/t/f272ejruqcv?scene_id=290644",description:"é»„å±±ä½äºå®‰å¾½çœå—éƒ¨é»„å±±å¸‚å¢ƒå†…ï¼Œæ˜¯ä¸­å›½åå¤§åå±±ä¹‹ä¸€ï¼Œæœ‰â€œå¤©ä¸‹ç¬¬ä¸€å¥‡å±±â€ä¹‹ç¾ç§°ã€‚",price:190,location:"å®‰å¾½",rating:4.9,category:"è‡ªç„¶é£å…‰"},{id:5,name:"å…µé©¬ä¿‘",image:"/ç½‘ç«™å›¾ç‰‡/å…µé©¬ä¿‘.jpg",panoramaUrl:"https://www.720yun.com/t/e3vki91h0py?scene_id=34105442",description:"ç§¦å§‹çš‡å…µé©¬ä¿‘è¢«èª‰ä¸ºä¸–ç•Œç¬¬å…«å¤§å¥‡è¿¹ï¼Œæ˜¯ä¸­å›½å¤ä»£è¾‰ç…Œæ–‡æ˜çš„ä¸€å¼ é‡‘å­—åç‰‡ã€‚",price:120,location:"è¥¿å®‰",rating:4.8,category:"å†å²æ–‡åŒ–"},{id:6,name:"å¼ å®¶ç•Œå›½å®¶æ£®æ—å…¬å›­",image:"/ç½‘ç«™å›¾ç‰‡/å¼ å®¶ç•Œå›½å®¶æ£®æ—å…¬å›­.jpg",panoramaUrl:"https://www.720yun.com/t/518j5sknru7?scene_id=11439292",description:"å¼ å®¶ç•Œå›½å®¶æ£®æ—å…¬å›­ä»¥å³°ç§°å¥‡ã€ä»¥è°·æ˜¾å¹½ã€ä»¥æ—è§ç§€ï¼Œæ˜¯ä¸–ç•Œè‡ªç„¶é—äº§ã€‚",price:228,location:"å¼ å®¶ç•Œ",rating:4.7,category:"è‡ªç„¶é£å…‰"},{id:7,name:"ä¸½æ±Ÿå¤åŸ",image:"/ç½‘ç«™å›¾ç‰‡/ä¸½æ±Ÿå¤åŸ.jpg",panoramaUrl:"https://www.720yun.com/t/aa02dqp8aes?scene_id=1010521",description:"ä¸½æ±Ÿå¤åŸæ˜¯ä¸­å›½å†å²æ–‡åŒ–ååŸä¹‹ä¸€ï¼Œå…·æœ‰800å¤šå¹´å†å²ï¼Œä¸–ç•Œæ–‡åŒ–é—äº§ã€‚",price:80,location:"ä¸½æ±Ÿ",rating:4.6,category:"å†å²æ–‡åŒ–"},{id:8,name:"ä¹å¯¨æ²Ÿ",image:"/ç½‘ç«™å›¾ç‰‡/ä¹å¯¨æ²Ÿ.jpg",panoramaUrl:"https://www.720yun.com/t/d8vkzmfl0pl?scene_id=83534120",description:"ä¹å¯¨æ²Ÿä»¥ç¿ æµ·ã€å ç€‘ã€å½©æ—ã€é›ªå³°ã€è—æƒ…ã€è“å†°â€œå…­ç»â€è‘—ç§°äºä¸–ï¼Œä¸–ç•Œè‡ªç„¶é—äº§ã€‚",price:190,location:"é˜¿å",rating:4.9,category:"è‡ªç„¶é£å…‰"}],g=c(""),d=c(""),n=c(""),m=c(""),f=c(""),V=Array.from(new Set(u.map(o=>o.location))),y=Array.from(new Set(u.map(o=>o.category))),v=I(()=>u.filter(o=>{const t=o.name.toLowerCase().includes(g.value.toLowerCase())||o.description.toLowerCase().includes(g.value.toLowerCase()),a=!d.value||o.location===d.value,A=!n.value||o.category===n.value;let P=!0;if(m.value){const[J,q]=m.value.split("-").map(Number);P=o.price>=J&&(q===0||o.price<=q)}const O=!f.value||o.rating>=parseFloat(f.value);return t&&a&&A&&P&&O})),l=c(null),p=c(1),j=c(!1),w=c(null),M=c(!1),R=o=>{l.value=o,p.value=1,j.value=!0},T=o=>{w.value=o,M.value=!0},L=()=>{M.value=!1,w.value=null},b=()=>{j.value=!1,l.value=null},z=()=>{g.value="",d.value="",n.value="",m.value="",f.value=""},E=()=>{if(!l.value)return;const o={id:Date.now(),attractionId:l.value.id,attractionName:l.value.name,image:l.value.image,price:l.value.price,quantity:p.value,totalAmount:l.value.price*p.value,date:new Date().toLocaleDateString(),status:"å·²æ”¯ä»˜"},t=JSON.parse(localStorage.getItem("orders"))||[];t.push(o),localStorage.setItem("orders",JSON.stringify(t)),b(),alert("è´­ç¥¨æˆåŠŸï¼è®¢å•å·²ä¿å­˜åˆ°ä¸ªäººä¸­å¿ƒã€‚")};return(o,t)=>(s(),i("div",te,[t[20]||(t[20]=e("h1",{class:"page-title"},"æ—…æ¸¸æ™¯ç‚¹",-1)),t[21]||(t[21]=e("p",{class:"page-subtitle"},"å‘ç°ä¸­å›½æœ€ç¾çš„æ—…æ¸¸æ™¯ç‚¹",-1)),e("div",ae,[e("div",oe,[_(e("input",{type:"text",placeholder:"æœç´¢æ™¯ç‚¹åç§°æˆ–æè¿°",class:"search-input","onUpdate:modelValue":t[0]||(t[0]=a=>g.value=a)},null,512),[[N,g.value]]),_(e("select",{class:"filter-select","onUpdate:modelValue":t[1]||(t[1]=a=>d.value=a)},[t[9]||(t[9]=e("option",{value:""},"é€‰æ‹©ç›®çš„åœ°",-1)),(s(!0),i(S,null,x($(V),a=>(s(),i("option",{key:a,value:a},r(a),9,se))),128))],512),[[C,d.value]]),_(e("select",{class:"filter-select","onUpdate:modelValue":t[2]||(t[2]=a=>n.value=a)},[t[10]||(t[10]=e("option",{value:""},"é€‰æ‹©åˆ†ç±»",-1)),(s(!0),i(S,null,x($(y),a=>(s(),i("option",{key:a,value:a},r(a),9,ne))),128))],512),[[C,n.value]]),_(e("select",{class:"filter-select","onUpdate:modelValue":t[3]||(t[3]=a=>m.value=a)},[...t[11]||(t[11]=[B('<option value="" data-v-af2372fb>é€‰æ‹©ä»·æ ¼åŒºé—´</option><option value="0-50" data-v-af2372fb>0-50å…ƒ</option><option value="50-100" data-v-af2372fb>50-100å…ƒ</option><option value="100-200" data-v-af2372fb>100-200å…ƒ</option><option value="200-0" data-v-af2372fb>200å…ƒä»¥ä¸Š</option>',5)])],512),[[C,m.value]]),_(e("select",{class:"filter-select","onUpdate:modelValue":t[4]||(t[4]=a=>f.value=a)},[...t[12]||(t[12]=[B('<option value="" data-v-af2372fb>æœ€ä½è¯„åˆ†</option><option value="4.5" data-v-af2372fb>4.5åˆ†ä»¥ä¸Š</option><option value="4.7" data-v-af2372fb>4.7åˆ†ä»¥ä¸Š</option><option value="4.8" data-v-af2372fb>4.8åˆ†ä»¥ä¸Š</option><option value="4.9" data-v-af2372fb>4.9åˆ†ä»¥ä¸Š</option>',5)])],512),[[C,f.value]]),e("button",{class:"reset-btn",onClick:z}," é‡ç½®ç­›é€‰ ")])]),e("div",le,[e("span",null,"æ‰¾åˆ° "+r(v.value.length)+" ä¸ªæ™¯ç‚¹",1)]),e("div",ie,[(s(!0),i(S,null,x(v.value,a=>(s(),i("div",{key:a.id,class:"attraction-card"},[e("img",{src:a.image,alt:a.name,class:"attraction-image"},null,8,re),e("div",ce,[e("div",ue,[e("h2",de,r(a.name),1),e("div",pe,[e("span",me,"â­"+r(a.rating),1),e("span",ve,r(a.location),1),e("span",ge,r(a.category),1)])]),e("p",fe,r(a.description),1),e("div",ye,[e("div",_e,[a.price===0?(s(),i("span",we,"å…è´¹")):(s(),i("span",he,"Â¥"+r(a.price),1))]),e("div",ke,[e("button",{class:"panorama-btn",onClick:A=>T(a)}," 3Dè§‚æ™¯ ",8,be),e("button",{class:"buy-btn",onClick:A=>R(a)}," ç«‹å³è´­ç¥¨ ",8,Ce)])])])]))),128))]),v.value.length===0?(s(),i("div",Ue,[...t[13]||(t[13]=[e("p",null,"æ²¡æœ‰æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„æ™¯ç‚¹ï¼Œè¯·å°è¯•è°ƒæ•´ç­›é€‰æ¡ä»¶",-1)])])):h("",!0),j.value&&l.value?(s(),i("div",{key:1,class:"modal-overlay",onClick:D(b,["self"])},[e("div",Se,[e("div",Ve,[e("h3",null,"è´­ä¹° "+r(l.value.name)+" é—¨ç¥¨",1),e("button",{class:"close-btn",onClick:b},"Ã—")]),e("div",je,[e("div",Me,[e("img",{src:l.value.image,alt:l.value.name,class:"ticket-image"},null,8,Ae),e("div",xe,[e("p",null,[t[14]||(t[14]=e("strong",null,"æ™¯ç‚¹:",-1)),U(" "+r(l.value.name),1)]),e("p",null,[t[15]||(t[15]=e("strong",null,"ä»·æ ¼:",-1)),U(" Â¥"+r(l.value.price)+"/å¼ ",1)]),e("p",null,[t[16]||(t[16]=e("strong",null,"åœ°ç‚¹:",-1)),U(" "+r(l.value.location),1)])])]),e("div",Le,[t[17]||(t[17]=e("label",{for:"quantity"},"æ•°é‡:",-1)),e("div",Pe,[e("button",{onClick:t[5]||(t[5]=a=>p.value=Math.max(1,p.value-1))},"-"),_(e("input",{type:"number",id:"quantity","onUpdate:modelValue":t[6]||(t[6]=a=>p.value=a),min:"1"},null,512),[[N,p.value,void 0,{number:!0}]]),e("button",{onClick:t[7]||(t[7]=a=>p.value++)},"+")])]),e("div",qe,[t[18]||(t[18]=e("strong",null,"æ€»è®¡:",-1)),U(" Â¥"+r(l.value.price*p.value),1)])]),e("div",{class:"modal-footer"},[e("button",{class:"cancel-btn",onClick:b},"å–æ¶ˆ"),e("button",{class:"confirm-btn",onClick:E},"ç¡®è®¤è´­ç¥¨")])])])):h("",!0),M.value?(s(),i("div",{key:2,class:"modal-overlay",onClick:L},[e("div",{class:"modal-content panorama-modal",onClick:t[8]||(t[8]=D(()=>{},["stop"]))},[e("div",Ne,[e("h3",null,"3Dè§‚æ™¯ - "+r(w.value?.name),1),e("button",{class:"close-btn",onClick:L},"Ã—")]),e("div",$e,[w.value?(s(),H(ee,{key:0,"image-url":w.value.panoramaUrl},null,8,["image-url"])):h("",!0),t[19]||(t[19]=e("div",{class:"panorama-tips"},[e("p",null,"ğŸ’¡ æç¤ºï¼šæŒ‰ä½é¼ æ ‡æ‹–åŠ¨å¯æ—‹è½¬è§†è§’ï¼Œæ»šè½®å¯ç¼©æ”¾")],-1))])])])):h("",!0)]))}},Fe=F(Be,[["__scopeId","data-v-af2372fb"]]);export{Fe as default};
